<html>
<head>
<title>表单注册和验证</title>
<script language="JavaScript">
function check()
{  
 fr = document.form1;
 if(fr.uid.value=="")//用户名不能为空
 {
alert("用户ID必须要填写！");
fr.uid.focus();
 return false;
 }
 if((fr.psw1.value != "") || (fr.psw2.value != ""))//两次密码输入必须一致
 {
if(fr.psw1.value!=fr.psw2.value)
 {
 alert("密码不一致,请重新输入并验证密码！");
fr.psw1.focus();
 return false;
 }
 }
 else {//密码也不能为空
alert("密码不能为空！");
fr.psw1.focus();
 return false;
 }
 
if(fr.gender.value == "")//性别必须填写
 {
alert("性别必须要填写！");
fr.name.focus();
 return false;
 }
 if(fr.email.value != "")//验证email的格式
 {
if(!isEmail(fr.email.value)) {
 alert("请输入正确的邮件名称！");
fr.email.focus();
 return false;
 }
 }
 fr.submit();
}
function isEmail(theStr){
    var atindex=theStr.indexOf('@');
    var dotindex=theStr.indexOf('.',atindex);
    var flag=true;
    thesub=theStr.substring(0,dotindex+1);
    if((atindex<1)||(atindex!=theStr.lastIndexOf('@'))||(dotindex<atindex+2)||(theStr.length<=thesub.length)){
      flag=false;
    }else{
      flag=true;
    }
    return(flag);
}
</script>

</head>

<body >
<form name="form1" id="form1" method="post" action="reg2.jsp">
<table  border=1 align=center width=350>
<TR align=middle><Th colSpan=2 height=24>新用户注册</TH></TR>
<TR>
<TD width="40%" >
<B>用&nbsp户&nbsp;名</B>：</TD>
<TD width="60%" ><INPUT maxLength="10" size=30  name="uid" type="text"></TD>
</TR>
<TR>
<TD ><B>性&nbsp;&nbsp;&nbsp;&nbsp;别</B>：</TD>
<TD><INPUT type=radio CHECKED value="boy" name="gender">
男孩 
<INPUT type=radio value="girl"  name="gender">

女孩</TD>
</TR>
<tr>
<TD ><B>密&nbsp;&nbsp;&nbsp;&nbsp;码</B>：
</TD>
<td><input name="psw1"  type="password" size=32></td>
<tr>
<TD><B>确认密码</B>：</TD>
<td ><input name="psw2" type="password" size=32></td>
<TR>
<TD ><B>密码问题</B>：</TD>
<TD>
<INPUT type=text size=30 name="question" type="text">
</TD></TR>
<TR>
<TD ><B>问题答案</B>：</TD>
<TD>
<INPUT type=text size=30 name="answer" type="text">
</TD></TR>
<TR>
<TD ><B>Email</B>：</TD>
<TD >
<INPUT maxLength=50 size=30 name="email" type="text"></TD>
</TR>
<tr>
<TD ><B>联系电话</B>：</TD>
<TD>
<INPUT maxLength=50 size=30 name="tel" type="text"></TD></tr>
      <tr>
        <td><b>职&nbsp;&nbsp;&nbsp;&nbsp;业</b>:</td>
        <td><select name="career" class="input1" />
        <option value="student" selected="selected">学生</option>  
 <option value="worker" >工人</option>
 <option value="teacher" >老师</option>
 <option value="famer" >农民</option>
 <option value="business" >商人</option>
      </td>
      </tr><tr>
<td></td><td><input type=submit value="注 册" name=Submit onClick="return check()">      
<input type=reset value="清 除" name=Submit2>

</td>
</tr>
</table>
</form>
</body>
</html>
